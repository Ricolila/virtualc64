\doxysection{Peddle.\+h}
\hypertarget{_peddle_8h_source}{}\label{_peddle_8h_source}\index{/Users/hoff/Retro/virtualc64/Emulator/Components/CPU/Peddle/Peddle.h@{/Users/hoff/Retro/virtualc64/Emulator/Components/CPU/Peddle/Peddle.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{//\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00002\ \textcolor{comment}{//\ This\ file\ is\ part\ of\ Peddle\ -\/\ A\ MOS\ 65xx\ CPU\ emulator}}
\DoxyCodeLine{00003\ \textcolor{comment}{//}}
\DoxyCodeLine{00004\ \textcolor{comment}{//\ Copyright\ (C)\ Dirk\ W.\ Hoffmann.\ www.dirkwhoffmann.de}}
\DoxyCodeLine{00005\ \textcolor{comment}{//\ Published\ under\ the\ terms\ of\ the\ MIT\ License}}
\DoxyCodeLine{00006\ \textcolor{comment}{//\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00007\ }
\DoxyCodeLine{00008\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00009\ }
\DoxyCodeLine{00010\ \textcolor{preprocessor}{\#include\ "{}PeddleConfig.h"{}}}
\DoxyCodeLine{00011\ \textcolor{preprocessor}{\#include\ "{}PeddleTypes.h"{}}}
\DoxyCodeLine{00012\ \textcolor{preprocessor}{\#include\ "{}PeddleDisassembler.h"{}}}
\DoxyCodeLine{00013\ \textcolor{preprocessor}{\#include\ "{}PeddleDebugger.h"{}}}
\DoxyCodeLine{00014\ \textcolor{preprocessor}{\#include\ "{}SubComponent.h"{}}}
\DoxyCodeLine{00015\ \textcolor{preprocessor}{\#include\ "{}PeddleUtils.h"{}}}
\DoxyCodeLine{00016\ \textcolor{preprocessor}{\#include\ "{}TimeDelayed.h"{}}}
\DoxyCodeLine{00017\ }
\DoxyCodeLine{00018\ \textcolor{keyword}{using\ namespace\ }vc64;}
\DoxyCodeLine{00019\ }
\DoxyCodeLine{00020\ \textcolor{keyword}{namespace\ }vc64::peddle\ \{}
\DoxyCodeLine{00021\ }
\DoxyCodeLine{00022\ \textcolor{keyword}{class\ }Peddle\ :\ \textcolor{keyword}{public}\ SubComponent\ \{}
\DoxyCodeLine{00023\ }
\DoxyCodeLine{00024\ \ \ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{class\ }Debugger;}
\DoxyCodeLine{00025\ \ \ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{class\ }Disassembler;}
\DoxyCodeLine{00026\ \ \ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{class\ }Breakpoints;}
\DoxyCodeLine{00027\ \ \ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{class\ }Watchpoints;}
\DoxyCodeLine{00028\ }
\DoxyCodeLine{00029\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00030\ \ \ \ \ \textcolor{comment}{//\ Static\ lookup\ tables}}
\DoxyCodeLine{00031\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00032\ }
\DoxyCodeLine{00033\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00034\ }
\DoxyCodeLine{00035\ \ \ \ \ \textcolor{comment}{//\ Table\ storing\ the\ first\ microinstruction\ for\ each\ opcode}}
\DoxyCodeLine{00036\ \ \ \ \ \textcolor{keyword}{static}\ MicroInstruction\ actionFunc[256];}
\DoxyCodeLine{00037\ }
\DoxyCodeLine{00038\ \ \ \ \ \textcolor{comment}{//\ Table\ storing\ a\ textual\ representation\ for\ each\ opcode}}
\DoxyCodeLine{00039\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *mnemonic[256];}
\DoxyCodeLine{00040\ }
\DoxyCodeLine{00041\ \ \ \ \ \textcolor{comment}{//\ Table\ storing\ the\ adressing\ mode\ for\ each\ opcode}}
\DoxyCodeLine{00042\ \ \ \ \ \textcolor{keyword}{static}\ AddressingMode\ addressingMode[256];}
\DoxyCodeLine{00043\ }
\DoxyCodeLine{00044\ }
\DoxyCodeLine{00045\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00046\ \ \ \ \ \textcolor{comment}{//\ Configuration}}
\DoxyCodeLine{00047\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00048\ }
\DoxyCodeLine{00049\ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00050\ }
\DoxyCodeLine{00051\ \ \ \ \ \textcolor{comment}{//\ Instance\ counter\ (to\ distinguish\ different\ CPU\ instances)}}
\DoxyCodeLine{00052\ \ \ \ \ isize\ id;}
\DoxyCodeLine{00053\ }
\DoxyCodeLine{00054\ \ \ \ \ \textcolor{comment}{//\ Emulated\ CPU\ model}}
\DoxyCodeLine{00055\ \ \ \ \ CPURevision\ cpuModel\ =\ MOS\_6510;}
\DoxyCodeLine{00056\ }
\DoxyCodeLine{00057\ }
\DoxyCodeLine{00058\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00059\ \ \ \ \ \textcolor{comment}{//\ Sub\ components}}
\DoxyCodeLine{00060\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00061\ }
\DoxyCodeLine{00062\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00063\ }
\DoxyCodeLine{00064\ \ \ \ \ Debugger\ debugger\ =\ Debugger(*\textcolor{keyword}{this});}
\DoxyCodeLine{00065\ \ \ \ \ Disassembler\ disassembler\ =\ Disassembler(*\textcolor{keyword}{this});}
\DoxyCodeLine{00066\ }
\DoxyCodeLine{00067\ }
\DoxyCodeLine{00068\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00069\ \ \ \ \ \textcolor{comment}{//\ Internal\ state}}
\DoxyCodeLine{00070\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00071\ }
\DoxyCodeLine{00072\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00073\ }
\DoxyCodeLine{00074\ \ \ \ \ \textcolor{comment}{//\ Elapsed\ clock\ cycles\ since\ power\ up}}
\DoxyCodeLine{00075\ \ \ \ \ i64\ clock;}
\DoxyCodeLine{00076\ }
\DoxyCodeLine{00077\ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00078\ }
\DoxyCodeLine{00079\ \ \ \ \ \textcolor{comment}{//\ State\ flags}}
\DoxyCodeLine{00080\ \ \ \ \ isize\ flags;}
\DoxyCodeLine{00081\ }
\DoxyCodeLine{00082\ \ \ \ \ \textcolor{comment}{//\ The\ next\ microinstruction\ to\ be\ executed}}
\DoxyCodeLine{00083\ \ \ \ \ MicroInstruction\ next;}
\DoxyCodeLine{00084\ }
\DoxyCodeLine{00085\ }
\DoxyCodeLine{00086\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00087\ \ \ \ \ \textcolor{comment}{//\ Registers}}
\DoxyCodeLine{00088\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00089\ }
\DoxyCodeLine{00090\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00091\ }
\DoxyCodeLine{00092\ \ \ \ \ Registers\ reg;}
\DoxyCodeLine{00093\ }
\DoxyCodeLine{00094\ }
\DoxyCodeLine{00095\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00096\ \ \ \ \ \textcolor{comment}{//\ Ports}}
\DoxyCodeLine{00097\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00098\ }
\DoxyCodeLine{00099\ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00100\ }
\DoxyCodeLine{00101\ \ \ \ \ \textcolor{comment}{//\ Ready\ line\ (RDY).\ If\ pulled\ low,\ the\ CPU\ freezes\ on\ the\ next\ read\ access}}
\DoxyCodeLine{00102\ \ \ \ \ \textcolor{keywordtype}{bool}\ rdyLine;}
\DoxyCodeLine{00103\ }
\DoxyCodeLine{00104\ \ \ \ \ \textcolor{comment}{//\ Cycle\ of\ the\ most\ recent\ rising\ edge\ of\ the\ RDY\ line}}
\DoxyCodeLine{00105\ \ \ \ \ i64\ rdyLineUp;}
\DoxyCodeLine{00106\ }
\DoxyCodeLine{00107\ \ \ \ \ \textcolor{comment}{//\ Cycle\ of\ the\ most\ recent\ falling\ edge\ of\ the\ RDY\ line}}
\DoxyCodeLine{00108\ \ \ \ \ i64\ rdyLineDown;}
\DoxyCodeLine{00109\ }
\DoxyCodeLine{00110\ \ \ \ \ \textcolor{comment}{/*\ Interrupt\ lines}}
\DoxyCodeLine{00111\ \textcolor{comment}{\ \ \ \ \ *}}
\DoxyCodeLine{00112\ \textcolor{comment}{\ \ \ \ \ *\ Usally\ both\ variables\ equal\ 0\ which\ means\ that\ the\ two\ interrupt\ lines}}
\DoxyCodeLine{00113\ \textcolor{comment}{\ \ \ \ \ *\ are\ high.\ When\ an\ external\ component\ requests\ an\ interrupt,\ the\ NMI\ or}}
\DoxyCodeLine{00114\ \textcolor{comment}{\ \ \ \ \ *\ the\ IRQ\ line\ is\ pulled\ low.\ In\ that\ case,\ the\ corresponding\ variable\ is}}
\DoxyCodeLine{00115\ \textcolor{comment}{\ \ \ \ \ *\ set\ to\ a\ positive\ value\ which\ indicates\ the\ interrupt\ source.\ The}}
\DoxyCodeLine{00116\ \textcolor{comment}{\ \ \ \ \ *\ variables\ are\ used\ in\ form\ of\ bit\ fields\ since\ both\ interrupt\ lines\ are}}
\DoxyCodeLine{00117\ \textcolor{comment}{\ \ \ \ \ *\ driven\ by\ multiple\ sources.}}
\DoxyCodeLine{00118\ \textcolor{comment}{\ \ \ \ \ */}}
\DoxyCodeLine{00119\ \ \ \ \ IntSource\ nmiLine;}
\DoxyCodeLine{00120\ \ \ \ \ IntSource\ irqLine;}
\DoxyCodeLine{00121\ }
\DoxyCodeLine{00122\ \ \ \ \ \textcolor{comment}{/*\ Edge\ detector\ (NMI\ line)}}
\DoxyCodeLine{00123\ \textcolor{comment}{\ \ \ \ \ *\ https://wiki.nesdev.com/w/index.php/CPU\_interrupts}}
\DoxyCodeLine{00124\ \textcolor{comment}{\ \ \ \ \ *\ "{}The\ NMI\ input\ is\ connected\ to\ an\ edge\ detector.\ This\ edge\ detector\ polls}}
\DoxyCodeLine{00125\ \textcolor{comment}{\ \ \ \ \ *\ \ the\ status\ of\ the\ NMI\ line\ during\ φ2\ of\ each\ CPU\ cycle\ (i.e.,\ during\ the}}
\DoxyCodeLine{00126\ \textcolor{comment}{\ \ \ \ \ *\ \ second\ half\ of\ each\ cycle)\ and\ raises\ an\ internal\ signal\ if\ the\ input}}
\DoxyCodeLine{00127\ \textcolor{comment}{\ \ \ \ \ *\ \ goes\ from\ being\ high\ during\ one\ cycle\ to\ being\ low\ during\ the\ next.\ The}}
\DoxyCodeLine{00128\ \textcolor{comment}{\ \ \ \ \ *\ \ internal\ signal\ goes\ high\ during\ φ1\ of\ the\ cycle\ that\ follows\ the\ one}}
\DoxyCodeLine{00129\ \textcolor{comment}{\ \ \ \ \ *\ \ where\ the\ edge\ is\ detected,\ and\ stays\ high\ until\ the\ NMI\ has\ been}}
\DoxyCodeLine{00130\ \textcolor{comment}{\ \ \ \ \ *\ \ handled."{}}}
\DoxyCodeLine{00131\ \textcolor{comment}{\ \ \ \ \ */}}
\DoxyCodeLine{00132\ \ \ \ \ TimeDelayed\ <u8,1>\ edgeDetector\ =\ TimeDelayed\ <u8,1>\ (\&clock);}
\DoxyCodeLine{00133\ }
\DoxyCodeLine{00134\ \ \ \ \ \textcolor{comment}{/*\ Level\ detector\ of\ IRQ\ line.}}
\DoxyCodeLine{00135\ \textcolor{comment}{\ \ \ \ \ *\ https://wiki.nesdev.com/w/index.php/CPU\_interrupts}}
\DoxyCodeLine{00136\ \textcolor{comment}{\ \ \ \ \ *\ "{}The\ IRQ\ input\ is\ connected\ to\ a\ level\ detector.\ If\ a\ low\ level\ is}}
\DoxyCodeLine{00137\ \textcolor{comment}{\ \ \ \ \ *\ \ detected\ on\ the\ IRQ\ input\ during\ φ2\ of\ a\ cycle,\ an\ internal\ signal\ is}}
\DoxyCodeLine{00138\ \textcolor{comment}{\ \ \ \ \ *\ \ raised\ during\ φ1\ the\ following\ cycle,\ remaining\ high\ for\ that\ cycle\ only}}
\DoxyCodeLine{00139\ \textcolor{comment}{\ \ \ \ \ *\ \ (or\ put\ another\ way,\ remaining\ high\ as\ long\ as\ the\ IRQ\ input\ is\ low}}
\DoxyCodeLine{00140\ \textcolor{comment}{\ \ \ \ \ *\ \ during\ the\ preceding\ cycle's\ φ2).}}
\DoxyCodeLine{00141\ \textcolor{comment}{\ \ \ \ \ */}}
\DoxyCodeLine{00142\ \ \ \ \ TimeDelayed\ <u8,1>\ levelDetector\ =\ TimeDelayed\ <u8,1>\ (\&clock);}
\DoxyCodeLine{00143\ }
\DoxyCodeLine{00144\ \ \ \ \ \textcolor{comment}{/*\ Result\ of\ the\ edge\ detector\ polling\ operation.}}
\DoxyCodeLine{00145\ \textcolor{comment}{\ \ \ \ \ *\ https://wiki.nesdev.com/w/index.php/CPU\_interrupts}}
\DoxyCodeLine{00146\ \textcolor{comment}{\ \ \ \ \ *\ "{}The\ output\ from\ the\ edge\ detector\ and\ level\ detector\ are\ polled\ at}}
\DoxyCodeLine{00147\ \textcolor{comment}{\ \ \ \ \ *\ \ certain\ points\ to\ detect\ pending\ interrupts.\ For\ most\ instructions,\ this}}
\DoxyCodeLine{00148\ \textcolor{comment}{\ \ \ \ \ *\ \ polling\ happens\ during\ the\ final\ cycle\ of\ the\ instruction,\ before\ the}}
\DoxyCodeLine{00149\ \textcolor{comment}{\ \ \ \ \ *\ \ opcode\ fetch\ for\ the\ next\ instruction.\ If\ the\ polling\ operation\ detects}}
\DoxyCodeLine{00150\ \textcolor{comment}{\ \ \ \ \ *\ \ that\ an\ interrupt\ has\ been\ asserted,\ the\ next\ "{}instruction"{}\ executed}}
\DoxyCodeLine{00151\ \textcolor{comment}{\ \ \ \ \ *\ \ is\ the\ interrupt\ sequence.\ Many\ references\ will\ claim\ that\ interrupts}}
\DoxyCodeLine{00152\ \textcolor{comment}{\ \ \ \ \ *\ \ are\ polled\ during\ the\ last\ cycle\ of\ an\ instruction,\ but\ this\ is\ true}}
\DoxyCodeLine{00153\ \textcolor{comment}{\ \ \ \ \ *\ \ only\ when\ talking\ about\ the\ output\ from\ the\ edge\ and\ level\ detectors."{}}}
\DoxyCodeLine{00154\ \textcolor{comment}{\ \ \ \ \ */}}
\DoxyCodeLine{00155\ \ \ \ \ \textcolor{keywordtype}{bool}\ doNmi;}
\DoxyCodeLine{00156\ }
\DoxyCodeLine{00157\ \ \ \ \ \textcolor{comment}{/*\ Result\ of\ the\ level\ detector\ polling\ operation.}}
\DoxyCodeLine{00158\ \textcolor{comment}{\ \ \ \ \ *\ https://wiki.nesdev.com/w/index.php/CPU\_interrupts}}
\DoxyCodeLine{00159\ \textcolor{comment}{\ \ \ \ \ *\ "{}If\ both\ an\ NMI\ and\ an\ IRQ\ are\ pending\ at\ the\ end\ of\ an\ instruction,\ the}}
\DoxyCodeLine{00160\ \textcolor{comment}{\ \ \ \ \ *\ \ NMI\ will\ be\ handled\ and\ the\ pending\ status\ of\ the\ IRQ\ forgotten\ (though}}
\DoxyCodeLine{00161\ \textcolor{comment}{\ \ \ \ \ *\ \ it's\ likely\ to\ be\ detected\ again\ during\ later\ polling)."{}}}
\DoxyCodeLine{00162\ \textcolor{comment}{\ \ \ \ \ */}}
\DoxyCodeLine{00163\ \ \ \ \ \textcolor{keywordtype}{bool}\ doIrq;}
\DoxyCodeLine{00164\ }
\DoxyCodeLine{00165\ }
\DoxyCodeLine{00166\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00167\ \ \ \ \ \textcolor{comment}{//\ Constructing}}
\DoxyCodeLine{00168\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00169\ }
\DoxyCodeLine{00170\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00171\ }
\DoxyCodeLine{00172\ \ \ \ \ Peddle(C64\ \&ref);}
\DoxyCodeLine{00173\ \ \ \ \ \textcolor{keyword}{virtual}\ \string~Peddle()\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00174\ }
\DoxyCodeLine{00175\ }
\DoxyCodeLine{00176\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00177\ \ \ \ \ \textcolor{comment}{//\ Initializing\ (PeddleInit\_cpp)}}
\DoxyCodeLine{00178\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00179\ }
\DoxyCodeLine{00180\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00181\ }
\DoxyCodeLine{00182\ \ \ \ \ \textcolor{comment}{//\ Registers\ the\ instruction\ set}}
\DoxyCodeLine{00183\ \ \ \ \ \textcolor{keywordtype}{void}\ registerInstructions();}
\DoxyCodeLine{00184\ \ \ \ \ \textcolor{keywordtype}{void}\ registerLegalInstructions();}
\DoxyCodeLine{00185\ \ \ \ \ \textcolor{keywordtype}{void}\ registerIllegalInstructions();}
\DoxyCodeLine{00186\ }
\DoxyCodeLine{00187\ \ \ \ \ \textcolor{comment}{//\ Registers\ a\ single\ instruction}}
\DoxyCodeLine{00188\ \ \ \ \ \textcolor{keywordtype}{void}\ registerCallback(u8\ opcode,}
\DoxyCodeLine{00189\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *mnemonic,}
\DoxyCodeLine{00190\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ AddressingMode\ mode,}
\DoxyCodeLine{00191\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ MicroInstruction\ mInstr);}
\DoxyCodeLine{00192\ }
\DoxyCodeLine{00193\ }
\DoxyCodeLine{00194\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00195\ \ \ \ \ \textcolor{comment}{//\ Configuring\ the\ CPU}}
\DoxyCodeLine{00196\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00197\ }
\DoxyCodeLine{00198\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00199\ }
\DoxyCodeLine{00200\ \ \ \ \ \textcolor{comment}{//\ Selects\ the\ emulated\ CPU\ model}}
\DoxyCodeLine{00201\ \ \ \ \ \textcolor{keywordtype}{void}\ setModel(CPURevision\ cpuModel);}
\DoxyCodeLine{00202\ }
\DoxyCodeLine{00203\ }
\DoxyCodeLine{00204\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00205\ \ \ \ \ \textcolor{comment}{//\ Querying\ CPU\ properties\ and\ the\ CPU\ state}}
\DoxyCodeLine{00206\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00207\ }
\DoxyCodeLine{00208\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00209\ }
\DoxyCodeLine{00210\ \ \ \ \ \textcolor{comment}{//\ Informs\ whether\ the\ selected\ CPU\ model\ has\ a\ processor\ port}}
\DoxyCodeLine{00211\ \ \ \ \ u16\ hasProcessorPort()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00212\ \ \ \ \ \textcolor{keyword}{template}\ <CPURevision\ C>\ u16\ hasProcessorPort()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00213\ }
\DoxyCodeLine{00214\ \ \ \ \ \textcolor{comment}{//\ Returns\ the\ address\ bus\ mask\ for\ this\ CPU\ model}}
\DoxyCodeLine{00215\ \ \ \ \ u16\ addrMask()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00216\ \ \ \ \ \textcolor{keyword}{template}\ <CPURevision\ C>\ u16\ addrMask()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00217\ }
\DoxyCodeLine{00218\ \ \ \ \ \textcolor{comment}{//\ Returns\ true\ if\ the\ next\ cycle\ marks\ the\ beginning\ of\ an\ instruction}}
\DoxyCodeLine{00219\ \ \ \ \ \textcolor{keywordtype}{bool}\ inFetchPhase()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ next\ ==\ fetch;\ \}}
\DoxyCodeLine{00220\ }
\DoxyCodeLine{00221\ }
\DoxyCodeLine{00222\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00223\ \ \ \ \ \textcolor{comment}{//\ Examining\ instructions}}
\DoxyCodeLine{00224\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00225\ }
\DoxyCodeLine{00226\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00227\ \ \ \ \ }
\DoxyCodeLine{00228\ \ \ \ \ \textcolor{comment}{//\ Returns\ the\ length\ of\ an\ instruction\ in\ bytes}}
\DoxyCodeLine{00229\ \ \ \ \ isize\ getLengthOfInstruction(u8\ opcode)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00230\ \ \ \ \ isize\ getLengthOfInstructionAt(u16\ addr)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00231\ \ \ \ \ isize\ getLengthOfCurrentInstruction()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00232\ }
\DoxyCodeLine{00233\ \ \ \ \ \textcolor{comment}{//\ Returns\ the\ address\ of\ the\ instruction\ following\ the\ current\ one}}
\DoxyCodeLine{00234\ \ \ \ \ u16\ getAddressOfNextInstruction()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00235\ }
\DoxyCodeLine{00236\ }
\DoxyCodeLine{00237\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00238\ \ \ \ \ \textcolor{comment}{//\ Running\ the\ CPU\ (PeddleExec\_cpp)}}
\DoxyCodeLine{00239\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00240\ }
\DoxyCodeLine{00241\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00242\ }
\DoxyCodeLine{00243\ \ \ \ \ \textcolor{comment}{//\ Performs\ a\ hard\ reset\ (power\ up)}}
\DoxyCodeLine{00244\ \ \ \ \ \textcolor{keywordtype}{void}\ reset();}
\DoxyCodeLine{00245\ \ \ \ \ \textcolor{keyword}{template}\ <CPURevision\ C>\ \textcolor{keywordtype}{void}\ reset();}
\DoxyCodeLine{00246\ }
\DoxyCodeLine{00247\ \ \ \ \ \textcolor{comment}{//\ Exexutes\ the\ CPU\ for\ a\ single\ cycle}}
\DoxyCodeLine{00248\ \ \ \ \ \textcolor{keywordtype}{void}\ execute();}
\DoxyCodeLine{00249\ \ \ \ \ \textcolor{keyword}{template}\ <CPURevision\ C>\ \textcolor{keywordtype}{void}\ execute();}
\DoxyCodeLine{00250\ }
\DoxyCodeLine{00251\ \ \ \ \ \textcolor{comment}{//\ Executes\ the\ CPU\ for\ the\ specified\ number\ of\ cycles}}
\DoxyCodeLine{00252\ \ \ \ \ \textcolor{keywordtype}{void}\ execute(\textcolor{keywordtype}{int}\ count);}
\DoxyCodeLine{00253\ \ \ \ \ \textcolor{keyword}{template}\ <CPURevision\ C>\ \textcolor{keywordtype}{void}\ execute(\textcolor{keywordtype}{int}\ count);}
\DoxyCodeLine{00254\ }
\DoxyCodeLine{00255\ \ \ \ \ \textcolor{comment}{//\ Executes\ the\ CPU\ for\ a\ single\ instruction}}
\DoxyCodeLine{00256\ \ \ \ \ \textcolor{keywordtype}{void}\ executeInstruction();}
\DoxyCodeLine{00257\ \ \ \ \ \textcolor{keyword}{template}\ <CPURevision\ C>\ \textcolor{keywordtype}{void}\ executeInstruction();}
\DoxyCodeLine{00258\ }
\DoxyCodeLine{00259\ \ \ \ \ \textcolor{comment}{//\ Executes\ the\ CPU\ for\ the\ specified\ number\ of\ instructions}}
\DoxyCodeLine{00260\ \ \ \ \ \textcolor{keywordtype}{void}\ executeInstruction(\textcolor{keywordtype}{int}\ count);}
\DoxyCodeLine{00261\ \ \ \ \ \textcolor{keyword}{template}\ <CPURevision\ C>\ \textcolor{keywordtype}{void}\ executeInstruction(\textcolor{keywordtype}{int}\ count);}
\DoxyCodeLine{00262\ }
\DoxyCodeLine{00263\ \ \ \ \ \textcolor{comment}{//\ Executes\ the\ CPU\ until\ the\ fetch\ phase\ is\ reached}}
\DoxyCodeLine{00264\ \ \ \ \ \textcolor{keywordtype}{void}\ finishInstruction();}
\DoxyCodeLine{00265\ \ \ \ \ \textcolor{keyword}{template}\ <CPURevision\ C>\ \textcolor{keywordtype}{void}\ finishInstruction();}
\DoxyCodeLine{00266\ }
\DoxyCodeLine{00267\ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00268\ }
\DoxyCodeLine{00269\ \ \ \ \ \textcolor{comment}{//\ Called\ after\ the\ last\ microcycle\ has\ been\ completed}}
\DoxyCodeLine{00270\ \ \ \ \ \textcolor{keyword}{template}\ <CPURevision\ C>\ \textcolor{keywordtype}{void}\ done();}
\DoxyCodeLine{00271\ }
\DoxyCodeLine{00272\ }
\DoxyCodeLine{00273\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00274\ \ \ \ \ \textcolor{comment}{//\ Handling\ interrupts}}
\DoxyCodeLine{00275\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00276\ }
\DoxyCodeLine{00277\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00278\ }
\DoxyCodeLine{00279\ \ \ \ \ \textcolor{comment}{//\ Pulls\ down\ an\ interrupt\ line}}
\DoxyCodeLine{00280\ \ \ \ \ \textcolor{keywordtype}{void}\ pullDownNmiLine(IntSource\ source);}
\DoxyCodeLine{00281\ \ \ \ \ \textcolor{keywordtype}{void}\ pullDownIrqLine(IntSource\ source);}
\DoxyCodeLine{00282\ }
\DoxyCodeLine{00283\ \ \ \ \ \textcolor{comment}{//\ Releases\ an\ interrupt\ line}}
\DoxyCodeLine{00284\ \ \ \ \ \textcolor{keywordtype}{void}\ releaseNmiLine(IntSource\ source);}
\DoxyCodeLine{00285\ \ \ \ \ \textcolor{keywordtype}{void}\ releaseIrqLine(IntSource\ source);}
\DoxyCodeLine{00286\ }
\DoxyCodeLine{00287\ \ \ \ \ \textcolor{comment}{//\ Checks\ the\ status\ of\ an\ interrupt\ line}}
\DoxyCodeLine{00288\ \ \ \ \ IntSource\ getNmiLine()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ nmiLine;\ \}}
\DoxyCodeLine{00289\ \ \ \ \ IntSource\ getIrqLine()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ irqLine;\ \}}
\DoxyCodeLine{00290\ }
\DoxyCodeLine{00291\ \ \ \ \ \textcolor{comment}{//\ Sets\ the\ value\ on\ the\ RDY\ line}}
\DoxyCodeLine{00292\ \ \ \ \ \textcolor{keywordtype}{void}\ setRDY(\textcolor{keywordtype}{bool}\ value);}
\DoxyCodeLine{00293\ }
\DoxyCodeLine{00294\ }
\DoxyCodeLine{00295\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00296\ \ \ \ \ \textcolor{comment}{//\ Accessing\ registers\ and\ flags}}
\DoxyCodeLine{00297\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00298\ }
\DoxyCodeLine{00299\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00300\ }
\DoxyCodeLine{00301\ \ \ \ \ \textcolor{comment}{/*\ Returns\ the\ frozen\ program\ counter.}}
\DoxyCodeLine{00302\ \textcolor{comment}{\ \ \ \ \ *\ Variable\ pc0\ matches\ the\ value\ of\ the\ program\ counter\ when\ the\ CPU}}
\DoxyCodeLine{00303\ \textcolor{comment}{\ \ \ \ \ *\ starts\ to\ execute\ an\ instruction.\ In\ contrast\ to\ the\ real\ program}}
\DoxyCodeLine{00304\ \textcolor{comment}{\ \ \ \ \ *\ counter,\ the\ value\ isn't\ changed\ until\ the\ CPU\ starts\ to\ process\ the}}
\DoxyCodeLine{00305\ \textcolor{comment}{\ \ \ \ \ *\ next\ instruction.\ In\ other\ words:\ This\ value\ always\ contains\ the\ start}}
\DoxyCodeLine{00306\ \textcolor{comment}{\ \ \ \ \ *\ address\ of\ the\ currently\ executed\ command,\ even\ if\ some\ microcycles\ of}}
\DoxyCodeLine{00307\ \textcolor{comment}{\ \ \ \ \ *\ the\ command\ have\ already\ been\ computed.}}
\DoxyCodeLine{00308\ \textcolor{comment}{\ \ \ \ \ */}}
\DoxyCodeLine{00309\ \ \ \ \ u16\ getPC0()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ reg.pc0;\ \}}
\DoxyCodeLine{00310\ }
\DoxyCodeLine{00311\ \ \ \ \ u16\ getSP()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ reg.sp;\ \}}
\DoxyCodeLine{00312\ }
\DoxyCodeLine{00313\ \ \ \ \ \textcolor{keywordtype}{bool}\ getN()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ reg.sr.n;\ \}}
\DoxyCodeLine{00314\ \ \ \ \ \textcolor{keywordtype}{void}\ setN(\textcolor{keywordtype}{bool}\ value)\ \{\ reg.sr.n\ =\ value;\ \}}
\DoxyCodeLine{00315\ }
\DoxyCodeLine{00316\ \ \ \ \ \textcolor{keywordtype}{bool}\ getV()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ reg.sr.v;\ \}}
\DoxyCodeLine{00317\ \ \ \ \ \textcolor{keywordtype}{void}\ setV(\textcolor{keywordtype}{bool}\ value)\ \{\ reg.sr.v\ =\ value;\ \}}
\DoxyCodeLine{00318\ }
\DoxyCodeLine{00319\ \ \ \ \ \textcolor{keywordtype}{bool}\ getB()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ reg.sr.b;\ \}}
\DoxyCodeLine{00320\ \ \ \ \ \textcolor{keywordtype}{void}\ setB(\textcolor{keywordtype}{bool}\ value)\ \{\ reg.sr.b\ =\ value;\ \}}
\DoxyCodeLine{00321\ }
\DoxyCodeLine{00322\ \ \ \ \ \textcolor{keywordtype}{bool}\ getD()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ reg.sr.d;\ \}}
\DoxyCodeLine{00323\ \ \ \ \ \textcolor{keywordtype}{void}\ setD(\textcolor{keywordtype}{bool}\ value)\ \{\ reg.sr.d\ =\ value;\ \}}
\DoxyCodeLine{00324\ }
\DoxyCodeLine{00325\ \ \ \ \ \textcolor{keywordtype}{bool}\ getI()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ reg.sr.i;\ \}}
\DoxyCodeLine{00326\ \ \ \ \ \textcolor{keywordtype}{void}\ setI(\textcolor{keywordtype}{bool}\ value)\ \{\ reg.sr.i\ =\ value;\ \}}
\DoxyCodeLine{00327\ }
\DoxyCodeLine{00328\ \ \ \ \ \textcolor{keywordtype}{bool}\ getZ()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ reg.sr.z;\ \}}
\DoxyCodeLine{00329\ \ \ \ \ \textcolor{keywordtype}{void}\ setZ(\textcolor{keywordtype}{bool}\ value)\ \{\ reg.sr.z\ =\ value;\ \}}
\DoxyCodeLine{00330\ }
\DoxyCodeLine{00331\ \ \ \ \ \textcolor{keywordtype}{bool}\ getC()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ reg.sr.c;\ \}}
\DoxyCodeLine{00332\ \ \ \ \ \textcolor{keywordtype}{void}\ setC(\textcolor{keywordtype}{bool}\ value)\ \{\ reg.sr.c\ =\ value;\ \}}
\DoxyCodeLine{00333\ }
\DoxyCodeLine{00334\ \ \ \ \ u8\ getP()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00335\ \ \ \ \ \textcolor{keywordtype}{void}\ setP(u8\ p);}
\DoxyCodeLine{00336\ }
\DoxyCodeLine{00337\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00338\ \ \ \ \ }
\DoxyCodeLine{00339\ \ \ \ \ u8\ getPWithClearedB()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00340\ \ \ \ \ \textcolor{keywordtype}{void}\ setPWithoutB(u8\ p);}
\DoxyCodeLine{00341\ }
\DoxyCodeLine{00342\ }
\DoxyCodeLine{00343\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00344\ \ \ \ \ \textcolor{comment}{//\ Interfacing\ with\ the\ memory\ (high-\/level\ interface)}}
\DoxyCodeLine{00345\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00346\ }
\DoxyCodeLine{00347\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00348\ }
\DoxyCodeLine{00349\ \ \ \ \ \textcolor{keyword}{template}\ <CPURevision\ C>\ u8\ read(u16\ addr);}
\DoxyCodeLine{00350\ \ \ \ \ \textcolor{keyword}{template}\ <CPURevision\ C>\ u8\ readZeroPage(u8\ addr);}
\DoxyCodeLine{00351\ \ \ \ \ \textcolor{keyword}{template}\ <CPURevision\ C>\ u8\ readStack(u8\ sp);}
\DoxyCodeLine{00352\ }
\DoxyCodeLine{00353\ \ \ \ \ \textcolor{keyword}{template}\ <CPURevision\ C>\ \textcolor{keywordtype}{void}\ readIdle(u16\ addr);}
\DoxyCodeLine{00354\ \ \ \ \ \textcolor{keyword}{template}\ <CPURevision\ C>\ \textcolor{keywordtype}{void}\ readZeroPageIdle(u8\ addr);}
\DoxyCodeLine{00355\ \ \ \ \ \textcolor{keyword}{template}\ <CPURevision\ C>\ \textcolor{keywordtype}{void}\ readStackIdle(u8\ sp);}
\DoxyCodeLine{00356\ }
\DoxyCodeLine{00357\ \ \ \ \ \textcolor{keyword}{template}\ <CPURevision\ C>\ \textcolor{keywordtype}{void}\ write(u16\ addr,\ u8\ value);}
\DoxyCodeLine{00358\ \ \ \ \ \textcolor{keyword}{template}\ <CPURevision\ C>\ \textcolor{keywordtype}{void}\ writeZeroPage(u8\ addr,\ u8\ value);}
\DoxyCodeLine{00359\ \ \ \ \ \textcolor{keyword}{template}\ <CPURevision\ C>\ \textcolor{keywordtype}{void}\ writeStack(u8\ sp,\ u8\ value);}
\DoxyCodeLine{00360\ }
\DoxyCodeLine{00361\ \ \ \ \ \textcolor{keyword}{template}\ <CPURevision\ C>\ u16\ readDasm(u16\ addr)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00362\ \ \ \ \ \textcolor{comment}{//\ template\ <CPURevision\ C>\ u16\ readResetVector();}}
\DoxyCodeLine{00363\ }
\DoxyCodeLine{00364\ \ \ \ \ }
\DoxyCodeLine{00365\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00366\ \ \ \ \ \textcolor{comment}{//\ Interfacing\ with\ the\ memory\ (low-\/level\ interface)}}
\DoxyCodeLine{00367\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00368\ }
\DoxyCodeLine{00369\ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00370\ }
\DoxyCodeLine{00371\ \ \ \ \ \textcolor{keyword}{virtual}\ u8\ read(u16\ addr)\ \{\ \textcolor{keywordflow}{return}\ 0;\ \}}
\DoxyCodeLine{00372\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ write(u16\ addr,\ u8\ val)\ \{\ \};}
\DoxyCodeLine{00373\ \ \ \ \ \textcolor{keyword}{virtual}\ u8\ readDasm(u16\ addr)\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ 0;\ \}}
\DoxyCodeLine{00374\ \ \ \ \ \textcolor{keyword}{virtual}\ u16\ readResetVector();}
\DoxyCodeLine{00375\ }
\DoxyCodeLine{00376\ }
\DoxyCodeLine{00377\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00378\ \ \ \ \ \textcolor{comment}{//\ Accessing\ the\ processor\ port}}
\DoxyCodeLine{00379\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00380\ }
\DoxyCodeLine{00381\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00382\ }
\DoxyCodeLine{00383\ \ \ \ \ \textcolor{comment}{//\ Reads\ from\ the\ port\ register\ or\ the\ port\ direction\ register}}
\DoxyCodeLine{00384\ \ \ \ \ \textcolor{keyword}{virtual}\ u8\ readPort()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00385\ \ \ \ \ \textcolor{keyword}{virtual}\ u8\ readPortDir()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ reg.pport.direction;\ \}}
\DoxyCodeLine{00386\ }
\DoxyCodeLine{00387\ \ \ \ \ \textcolor{comment}{//\ Writes\ into\ the\ port\ register\ or\ the\ port\ direction\ register}}
\DoxyCodeLine{00388\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ writePort(u8\ val)\ \{\ reg.pport.data\ =\ val;\ \}}
\DoxyCodeLine{00389\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ writePortDir(u8\ val)\ \{\ reg.pport.direction\ =\ val;\ \}}
\DoxyCodeLine{00390\ }
\DoxyCodeLine{00391\ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00392\ \ \ \ \ }
\DoxyCodeLine{00393\ \ \ \ \ \textcolor{comment}{//\ Data\ provider\ for\ the\ external\ port\ bits}}
\DoxyCodeLine{00394\ \ \ \ \ \textcolor{keyword}{virtual}\ u8\ externalPortBits()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ 0;\ \}}
\DoxyCodeLine{00395\ }
\DoxyCodeLine{00396\ \ \ \ \ }
\DoxyCodeLine{00397\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00398\ \ \ \ \ \textcolor{comment}{//\ Delegation\ methods}}
\DoxyCodeLine{00399\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00400\ }
\DoxyCodeLine{00401\ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00402\ }
\DoxyCodeLine{00403\ \ \ \ \ \textcolor{comment}{//\ State\ delegates}}
\DoxyCodeLine{00404\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ cpuDidJam()\ \{\ \}}
\DoxyCodeLine{00405\ }
\DoxyCodeLine{00406\ \ \ \ \ \textcolor{comment}{//\ Exception\ delegates}}
\DoxyCodeLine{00407\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ irqWillTrigger()\ \{\ \}}
\DoxyCodeLine{00408\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ irqDidTrigger()\ \{\ \}}
\DoxyCodeLine{00409\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ nmiWillTrigger()\ \{\ \}}
\DoxyCodeLine{00410\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ nmiDidTrigger()\ \{\ \}}
\DoxyCodeLine{00411\ }
\DoxyCodeLine{00412\ \ \ \ \ \textcolor{comment}{//\ Debugger\ delegates}}
\DoxyCodeLine{00413\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ breakpointReached(u16\ addr)\textcolor{keyword}{\ const\ }\{\ \}}
\DoxyCodeLine{00414\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ watchpointReached(u16\ addr)\textcolor{keyword}{\ const\ }\{\ \}}
\DoxyCodeLine{00415\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ instructionLogged()\textcolor{keyword}{\ const\ }\{\ \}}
\DoxyCodeLine{00416\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ jumpedTo(u16\ addr)\textcolor{keyword}{\ const\ }\{\ \}}
\DoxyCodeLine{00417\ }
\DoxyCodeLine{00418\ }
\DoxyCodeLine{00419\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00420\ \ \ \ \ \textcolor{comment}{//\ Operating\ the\ Arithmetical\ Logical\ Unit\ (ALU)}}
\DoxyCodeLine{00421\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00422\ }
\DoxyCodeLine{00423\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00424\ }
\DoxyCodeLine{00425\ \ \ \ \ \textcolor{keywordtype}{void}\ adc(u8\ op);}
\DoxyCodeLine{00426\ \ \ \ \ \textcolor{keywordtype}{void}\ adcBinary(u8\ op);}
\DoxyCodeLine{00427\ \ \ \ \ \textcolor{keywordtype}{void}\ adcBcd(u8\ op);}
\DoxyCodeLine{00428\ \ \ \ \ \textcolor{keywordtype}{void}\ sbc(u8\ op);}
\DoxyCodeLine{00429\ \ \ \ \ \textcolor{keywordtype}{void}\ sbcBinary(u8\ op);}
\DoxyCodeLine{00430\ \ \ \ \ \textcolor{keywordtype}{void}\ sbcBcd(u8\ op);}
\DoxyCodeLine{00431\ \ \ \ \ \textcolor{keywordtype}{void}\ cmp(u8\ op1,\ u8\ op2);}
\DoxyCodeLine{00432\ \};}
\DoxyCodeLine{00433\ }
\DoxyCodeLine{00434\ \}}

\end{DoxyCode}
